<!--
Copyright 2020 Carnegie Mellon University. All Rights Reserved.
Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->

<div class="row mb-3">
  <div class="col-lg-3">
    <h3>Game Survey Report</h3>
  </div>
  <div class="col-lg-9 text-right">
    <div class="btn-group" role="group" aria-label="Actions">
      <button class="btn btn-link" (click)="export()" tooltip="Export to CSV"><i class="fa fa-download fa-fw"></i></button>
    </div>
  </div>
</div>
<ng-container *ngIf="report">  
  <ng-container *ngIf="report.items.length == 0">
    <div class="card">
      <div class="card-body">
        <span class="text-muted">No surveys available.</span>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="report.items.length">
    <div class="card">      
      <div class="card-body">
        <table class="table table-striped table-sm">
          <colgroup>
            <col style="width: 40%" />
            <col style="width: 20%" />
          </colgroup>
          <thead>
            <tr>              
              <th>Question</th>
              <th>Answer</th>              
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of report.items">
              <td>{{ item.question }}</td>
              <td>{{ item.answer }}</td>              
              <td>{{ item.date | date:'MM/d/yyyy h:mma' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </ng-container>
</ng-container>

