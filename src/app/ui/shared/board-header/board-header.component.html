<!--
Copyright 2020 Carnegie Mellon University. All Rights Reserved.
Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->

<nav class="board-header mb-2" *ngIf="board">
  <div class="row">
    <div class="col-lg-4">
      <h3>
        <a [routerLink]="['/board', board.id]">{{board.name}}</a>
        <span class="text-muted" *ngIf="!!teamBoard && !teamBoard.state.expired && !!teamBoard.state.timespan" tooltip="Session&nbsp;Time&nbsp;Remaining">
          {{teamBoard.state?.timespan | timespan}}
        </span>
        <span class="text-muted" *ngIf="!!teamBoard && !teamBoard.state.timespan && !teamBoard.state.expired && !!board.state && !!board.state.timespan" tooltip="Board&nbsp;Time&nbsp;Remaining">
          {{board.state?.timespan | timespan }}
        </span>
        <span class="text-muted ml-1" *ngIf="!!board.state && !board.state.expired && !!teamBoard && !!teamBoard.state && teamBoard.state.expired">(expired)</span>
        <span class="text-muted ml-1" *ngIf="!!board.state && board.state.expired">(closed)</span>
        <!--<span class="text-muted" *ngIf="teamBoard.state.pending && boardState.time">(begins in {{ teamBoard.state.timer | counter }})</span>-->
        <!--<span class="text-muted" *ngIf="!teamBoard.state.ended && teamBoard.state.time">(ends in {{ teamBoard.state.timer | counter }})</span>-->
      </h3>
    </div>
    <!--<div class="col-lg-3 text-center">
      <ul class="timespan" *ngIf="!!teamBoard && !teamBoard.state.expired && !!teamBoard.state.timespan" tooltip="Session&nbsp;Time&nbsp;Remaining">
        <li><span>{{(teamBoard.state?.timespan | timespan:'object').hours}}</span></li>
        <li><span>{{(teamBoard.state?.timespan | timespan:'object').minutes}}</span></li>
        <li><span>{{(teamBoard.state?.timespan | timespan:'object').seconds}}</span></li>
      </ul>
      <ul class="timespan" *ngIf="!!teamBoard && !teamBoard.state.timespan && !teamBoard.state.expired && !!board.state && !!board.state.timespan" tooltip="Board&nbsp;Time&nbsp;Remaining">
        <li><span>{{(board.state?.timespan | timespan:'object').hours}}</span></li>
        <li><span>{{(board.state?.timespan | timespan:'object').minutes}}</span></li>
        <li><span>{{(board.state?.timespan | timespan:'object').seconds}}</span></li>
      </ul>
    </div>-->
    <div class="col-lg-4 text-right">

    </div>
    <div class="col-lg-4 text-right">
      <span class="fa-stack fa-lg certificate-download mr-2" tooltip="Download Certificate"
            *ngIf="!!teamBoard && board.certificateThreshold > 0 && teamBoard.score >= board.certificateThreshold"
            (click)="onDownloadCertificate()">
        <i class="fa fa-certificate fa-stack-2x text-success"></i>
        <i class="fa fa-download fa-stack-1x text-white"></i>
      </span>
      <button type="button" class="btn btn-warning text-uppercase"
              *ngIf="isResetVisible && board.isResetAllowed && !!teamBoard && isTeamOwner"
              (click)="onReset()" tooltip="Reset&nbsp;Board">
        Reset
      </button>
      <button type="button" class="btn btn-success text-uppercase"
              *ngIf="isStartVisible && board.isStartAllowed && board.state && board.state.active && !teamBoard && isTeamOwner"
              (click)="onStart()" tooltip="Start&nbsp;Board">
        Start
      </button>
    </div>
  </div>
</nav>

